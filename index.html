<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>測試</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <style>
    html,
    body {
      width: 100%;
      height: 100%;
    }

    #mapw {
      width: 50%;
      height: 50%;
    }
  </style>

  <script type="text/javascript">
    var Data;



    console.log("hi");

    var url =
      "https://overpass-api.de/api/interpreter?data=%2F*%0AThis%20has%20been%20generated%20by%20the%20overpass-turbo%20wizard.%0AThe%20original%20search%20was%3A%0A%E2%80%9Camenity%3Ddrinking_water%20in%20%22%E8%87%BA%E7%81%A3%22%E2%80%9D%0A*%2F%0A%5Bout%3Ajson%5D%5Btimeout%3A25%5D%3B%0A%2F%2F%20fetch%20area%20%E2%80%9C%E8%87%BA%E7%81%A3%E2%80%9D%20to%20search%20in%0Aarea%283600449220%29-%3E.searchArea%3B%0A%2F%2F%20gather%20results%0A%28%0A%20%20%2F%2F%20query%20part%20for%3A%20%E2%80%9Camenity%3Ddrinking_water%E2%80%9D%0A%20%20node%5B%22amenity%22%3D%22drinking_water%22%5D%5B%22level%22%3D1%5D%28area.searchArea%29%3B%0A%20%20way%5B%22amenity%22%3D%22drinking_water%22%5D%28area.searchArea%29%3B%0A%20%20relation%5B%22amenity%22%3D%22drinking_water%22%5D%28area.searchArea%29%3B%0A%29%3B%0A%2F%2F%20print%20results%0Aout%20body%3B%0A%3E%3B%0Aout%20skel%20qt%3B";

    $.get(url, function(data) {
      Data = data.elements;
      // console.log(data);
      for (var i = 0; i < Data.length; i++) {
        // Data[i];
        // console.log(data.elements[i].lat, data.elements[i].lon);
        // Data[i] = [data.elements[i].lat, data.elements[i].lon];
        var marker = L.marker([data.elements[i].lat, data.elements[i].lon]);
        // console.log(marker + "~~~~~~" + Data);
        marker.addTo(map);
        // console.log(Data[i]);



      }
      // console.log(data.elements[2].lat, data.elements[2].lon);


    });
  </script>

  <div id="mapw"></div>
  <script>
    // var e = [25.0375198, 121.5636796],[25.0375198, 121.5636792];
    var map = L.map('mapw').setView([25.0375198, 121.5636796], 12);


    $.get(url, function(data) {
      Data = data.elements;
      // console.log(data);

      for (var i = 0; i < Data.length; i++) {

        // console.log(data.elements[i].lat, data.elements[i].lon);
        Data[i] = [data.elements[i].lat,data.elements[i].lon];

      }
      // console.log(+"HI");
    });


    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '<a href="https://www.openstreetmap.org/">OSM</a>',
      maxZoom: 20,
    }).addTo(map);

    var polyline = new L.polyline([
      [51.80607748386585, -0.8843994140625],
      [51.601428064502886, -0.9118652343749999]
    ], {
      color: 'blue',
      opacity: 0.5,
      weight: 3
    }).addTo(map);

    function hi (){


    }





  </script>




</head>

<body>
  <button type="button" onclick="hi()" name="button"></button>



</body>

</html>